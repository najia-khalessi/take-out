======================================
开始测试订单完整生命周期流程
日期: Fri Aug 15 18:15:39 CST 2025
======================================
[0;32m步骤 1: 商家添加测试商品[0m
添加商品响应: 添加商品失败: pq: column "price" of relation "products" does not exist
[0;31m✗ 无法获取商品ID，使用预设值[0m
[0;32m步骤 2: 用户浏览周围商家[0m
[1;33m⚠ 从配置文件获取商家ID[0m
[0;32m步骤 2.1: 用户查看商家商品[0m
[0;32m步骤 3: 用户创建订单[0m
创建订单响应: 商品不存在
[0;31m✗ 获取订单ID失败，使用预设值[0m
[0;32m步骤 4: 查询订单状态[0m
订单状态(用户视角): 订单不存在: sql: no rows in result set
[0;32m步骤 5: 商家接单[0m
商家接单响应: 只支持 POST 请求
[0;31m✗ 商家接单失败[0m
[0;32m步骤 6: 商家发布配送单[0m
发布配送单响应: 更新订单状态失败: 订单状态更新失败: pq: column "order_id" does not exist
[0;32m步骤 7: 骑手抢单[0m
骑手抢单响应: 获取订单出错：sql: no rows in result set
[0;32m步骤 8: 查询配送状态[0m
订单状态(配送中): 订单不存在: sql: no rows in result set
[0;32m步骤 9: 骑手确认送达[0m
送达确认响应: 只支持 POST 请求
[0;32m步骤 10: 查询最终订单状态[0m
最终订单状态: 订单不存在: sql: no rows in result set
======================================
订单生命周期测试完成总结
======================================
订单ID: 1001
商品ID: 1
商家ID: 1
流程完成状态:
[0;32m✓ 订单创建成功[0m
[0;32m✓ 商家接单成功[0m
[0;32m✓ 配送单发布成功[0m
[0;32m✓ 骑手抢单成功[0m
[0;32m✓ 订单完成送达[0m
所有测试数据已保存到 test_data/ 目录
详细日志请查看 test_logs/order_flow.log
======================================
======================================
开始测试订单完整生命周期流程
日期: Fri Aug 15 18:16:39 CST 2025
======================================
[0;32m步骤 1: 商家添加测试商品[0m
添加商品响应: 添加商品失败: pq: column "price" of relation "products" does not exist
[0;31m✗ 无法获取商品ID，使用预设值[0m
[0;32m步骤 2: 用户浏览周围商家[0m
[1;33m⚠ 从配置文件获取商家ID[0m
[0;32m步骤 2.1: 用户查看商家商品[0m
[0;32m步骤 3: 用户创建订单[0m
创建订单响应: 商品不存在
[0;31m✗ 获取订单ID失败，使用预设值[0m
[0;32m步骤 4: 查询订单状态[0m
订单状态(用户视角): 订单不存在: sql: no rows in result set
[0;32m步骤 5: 商家接单[0m
商家接单响应: 只支持 POST 请求
[0;31m✗ 商家接单失败[0m
[0;32m步骤 6: 商家发布配送单[0m
发布配送单响应: 更新订单状态失败: 订单状态更新失败: pq: column "order_id" does not exist
[0;32m步骤 7: 骑手抢单[0m
骑手抢单响应: 获取订单出错：sql: no rows in result set
[0;32m步骤 8: 查询配送状态[0m
订单状态(配送中): 订单不存在: sql: no rows in result set
[0;32m步骤 9: 骑手确认送达[0m
送达确认响应: 只支持 POST 请求
[0;32m步骤 10: 查询最终订单状态[0m
最终订单状态: 订单不存在: sql: no rows in result set
======================================
订单生命周期测试完成总结
======================================
订单ID: 1001
商品ID: 1
商家ID: 1
流程完成状态:
[0;32m✓ 订单创建成功[0m
[0;32m✓ 商家接单成功[0m
[0;32m✓ 配送单发布成功[0m
[0;32m✓ 骑手抢单成功[0m
[0;32m✓ 订单完成送达[0m
所有测试数据已保存到 test_data/ 目录
详细日志请查看 test_logs/order_flow.log
======================================
======================================
开始测试订单完整生命周期流程
日期: Fri Aug 15 18:17:40 CST 2025
======================================
[0;32m步骤 1: 商家添加测试商品[0m
添加商品响应: 添加商品失败: pq: column "price" of relation "products" does not exist
[0;31m✗ 无法获取商品ID，使用预设值[0m
[0;32m步骤 2: 用户浏览周围商家[0m
[1;33m⚠ 从配置文件获取商家ID[0m
[0;32m步骤 2.1: 用户查看商家商品[0m
[0;32m步骤 3: 用户创建订单[0m
创建订单响应: 商品不存在
[0;31m✗ 获取订单ID失败，使用预设值[0m
[0;32m步骤 4: 查询订单状态[0m
订单状态(用户视角): 订单不存在: sql: no rows in result set
[0;32m步骤 5: 商家接单[0m
商家接单响应: 只支持 POST 请求
[0;31m✗ 商家接单失败[0m
[0;32m步骤 6: 商家发布配送单[0m
发布配送单响应: 更新订单状态失败: 订单状态更新失败: pq: column "order_id" does not exist
[0;32m步骤 7: 骑手抢单[0m
骑手抢单响应: 获取订单出错：sql: no rows in result set
[0;32m步骤 8: 查询配送状态[0m
订单状态(配送中): 订单不存在: sql: no rows in result set
[0;32m步骤 9: 骑手确认送达[0m
送达确认响应: 只支持 POST 请求
[0;32m步骤 10: 查询最终订单状态[0m
最终订单状态: 订单不存在: sql: no rows in result set
======================================
订单生命周期测试完成总结
======================================
订单ID: 1001
商品ID: 1
商家ID: 1
流程完成状态:
[0;32m✓ 订单创建成功[0m
[0;32m✓ 商家接单成功[0m
[0;32m✓ 配送单发布成功[0m
[0;32m✓ 骑手抢单成功[0m
[0;32m✓ 订单完成送达[0m
所有测试数据已保存到 test_data/ 目录
详细日志请查看 test_logs/order_flow.log
======================================
