# take-outå¤–å–ç³»ç»Ÿå®Œæ•´æµ‹è¯•æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

è¿™å¥—æµ‹è¯•è„šæœ¬ä¸ºæ‚¨æä¾›äº†ä»æ³¨å†Œç™»å½•åˆ°è®¢å•è¯„ä»·çš„å…¨æµç¨‹æµ‹è¯•èƒ½åŠ›ï¼Œä½¿ç”¨curlå‘½ä»¤è¡Œå·¥å…·éªŒè¯å¤–å–ç³»ç»Ÿçš„æ¯ä¸ªåŠŸèƒ½æ¨¡å—ã€‚

### ğŸ“‹ æµ‹è¯•å†…å®¹æ€»è§ˆ

| æµ‹è¯•é˜¶æ®µ | æ¶µç›–åŠŸèƒ½ | æµ‹è¯•è„šæœ¬ |
|----------|----------|----------|
| **é˜¶æ®µ1: è®¤è¯ç³»ç»Ÿ** | ç”¨æˆ·/å•†å®¶/éª‘æ‰‹æ³¨å†Œç™»å½• | `test_auth.sh` |
| **é˜¶æ®µ2: è®¢å•æµç¨‹** | ä¸‹å•â†’æ¥å•â†’é…é€â†’å®Œæˆ | `test_order_flow.sh` |
| **é˜¶æ®µ3: æ¶ˆæ¯ç³»ç»Ÿ** | å®æ—¶ç¾¤èŠã€è®¢å•é€šçŸ¥ | `test_messaging.sh` |
| **é˜¶æ®µ4: è¯„ä»·ç³»ç»Ÿ** | ç”¨æˆ·è¯„ä»·ä½“ç³»ã€AIæ™ºèƒ½åˆ†æ | `test_review_system.sh` |

### ğŸ”§ ä¸€é”®æµ‹è¯•

```bash
# 1. ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨
docker-compose up -d

# 2. è¿è¡Œå®Œæ•´æµ‹è¯•
./run_all_tests.sh          # æ‰§è¡Œæ‰€æœ‰ç³»ç»Ÿæµ‹è¯•

# 3. æˆ–é€‰æ‹©æ€§æµ‹è¯•
./run_all_tests.sh auth     # ä»…æµ‹è¯•æ³¨å†Œç™»å½•
./run_all_tests.sh order    # ä»…æµ‹è¯•è®¢å•æµç¨‹
./run_all_tests.sh messaging # ä»…æµ‹è¯•æ¶ˆæ¯ç³»ç»Ÿ
./run_all_tests.sh reviews  # ä»…æµ‹è¯•è¯„ä»·ç³»ç»Ÿ
```

### ğŸ“Š æµ‹è¯•ç»“æœæŸ¥çœ‹

#### å®æ—¶æŸ¥çœ‹æµ‹è¯•è¿›åº¦

```bash
# å®æ—¶ç›‘æ§æµ‹è¯•æ—¥å¿—
tail -f test_logs/*.log

# æŸ¥çœ‹ç”Ÿæˆçš„æµ‹è¯•æ•°æ®
ls -la test_data/

# æŸ¥çœ‹æœ€ç»ˆæµ‹è¯•æŠ¥å‘Š
cat test_results/comprehensive_report.md
```

#### æµ‹è¯•æ–‡ä»¶ç»“æ„

```
take-out/
â”œâ”€â”€ test_auth.sh           # è®¤è¯ç³»ç»Ÿæµ‹è¯•
â”œâ”€â”€ test_order_flow.sh     # è®¢å•ç”Ÿå‘½å‘¨æœŸæµ‹è¯•
â”œâ”€â”€ test_messaging.sh      # æ¶ˆæ¯ç³»ç»Ÿæµ‹è¯•
â”œâ”€â”€ test_review_system.sh  # è¯„ä»·ç³»ç»Ÿæµ‹è¯•
â”œâ”€â”€ run_all_tests.sh       # å®Œæ•´æµ‹è¯•æ•´åˆå™¨
â”œâ”€â”€ test_data/             # æµ‹è¯•æ•°æ®å’Œç»“æœ
â”‚   â”œâ”€â”€ config.json        # æµ‹è¯•é…ç½®
â”‚   â”œâ”€â”€ order_id.txt       # åˆ›å»ºçš„è®¢å•ID
â”‚   â”œâ”€â”€ user_token.txt     # ç”¨æˆ·è®¿é—®Token
â”‚   â”œâ”€â”€ shop_token.txt     # å•†å®¶è®¿é—®Token
â”‚   â”œâ”€â”€ rider_token.txt    # éª‘æ‰‹è®¿é—®Token
â”‚   â””â”€â”€ *.json             # è¯¦ç»†æµ‹è¯•æ•°æ®
â”œâ”€â”€ test_logs/            # è¯¦ç»†æµ‹è¯•æ—¥å¿—
â”‚   â”œâ”€â”€ auth.log          # è®¤è¯æµ‹è¯•æ—¥å¿—
â”‚   â”œâ”€â”€ order_flow.log    # è®¢å•æµ‹è¯•æ—¥å¿—
â”‚   â”œâ”€â”€ messaging.log     # æ¶ˆæ¯æµ‹è¯•æ—¥å¿—
â”‚   â””â”€â”€ review_system.log # è¯„ä»·æµ‹è¯•æ—¥å¿—
â””â”€â”€ test_results/         # æœ€ç»ˆç»“æœæŠ¥å‘Š
    â”œâ”€â”€ comprehensive_report.md
    â”œâ”€â”€ test_summary.json
    â””â”€â”€ test_summary.csv
```

## ğŸ¯ è¯¦ç»†ä½¿ç”¨è¯´æ˜

### æ­¥éª¤1: ç¯å¢ƒå‡†å¤‡

```bash
# ç¡®ä¿ä¾èµ–å·²å®‰è£…
sudo apt-get update && sudo apt-get install -y curl jq

# æ£€æŸ¥åç«¯æœåŠ¡
./run_all_tests.sh  # ä¼šè‡ªåŠ¨æ£€æŸ¥æœåŠ¡çŠ¶æ€
```

### æ­¥éª¤2: è¿è¡Œè®¤è¯æµ‹è¯•

```bash
./test_auth.sh
# è¾“å‡ºç¤ºä¾‹:
# âœ… ç”¨æˆ·æ³¨å†ŒæˆåŠŸ
# âœ… å•†å®¶ç™»å½•æˆåŠŸ  
# âœ… TokenéªŒè¯é€šè¿‡
```

### æ­¥éª¤3: æ‰§è¡Œå®Œæ•´ä¸šåŠ¡æµç¨‹

```bash
./run_all_tests.sh
# è‡ªåŠ¨æ‰§è¡Œå®Œæ•´æµç¨‹:
# 1. ç”¨æˆ·æ³¨å†Œ â†’ ç™»å½• â†’ è·å–Token
# 2. å•†å®¶æ³¨å†Œ â†’ ç™»å½• â†’ æ·»åŠ å•†å“
# 3. ç”¨æˆ·æµè§ˆ â†’ ä¸‹å• â†’ ç­‰å¾…å•†å®¶ç¡®è®¤
# 4. å•†å®¶æ¥å• â†’ å‘å¸ƒé…é€ â†’ é€šçŸ¥éª‘æ‰‹
# 5. éª‘æ‰‹æŠ¢å• â†’ é…é€ä¸­ â†’ é€è¾¾ç¡®è®¤
# 6. å®æ—¶æ¶ˆæ¯ â†’ å¤šæ–¹æ²Ÿé€š â†’ å®Œæˆé€šçŸ¥
# 7. ç”¨æˆ·è¯„ä»· â†’ AIåˆ†æ â†’ å•†å®¶å›å¤
```

## ğŸ“ˆ æµ‹è¯•éªŒè¯ç‚¹

### 1. è®¤è¯ç³»ç»ŸéªŒè¯
- [x] å¤šå±‚æ¬¡ç”¨æˆ·æ³¨å†Œ
- [x] Tokenç”Ÿæˆä¸éªŒè¯
- [x] æƒé™è¾¹ç•Œæ§åˆ¶
- [x] é‡å¤æ³¨å†Œå¤„ç†
- [x] å¯†ç å®‰å…¨å­˜å‚¨

### 2. è®¢å•ç”Ÿå‘½å‘¨æœŸéªŒè¯  
- [x] å•†å“ç®¡ç†åŠŸèƒ½
- [x] è®¢å•çŠ¶æ€æµè½¬
- [x] é…é€é€»è¾‘å®Œæ•´æ€§
- [x] å®æ—¶çŠ¶æ€æ›´æ–°
- [x] å¼‚å¸¸å¤„ç†æœºåˆ¶

### 3. æ¶ˆæ¯ç³»ç»ŸéªŒè¯
- [x] å®æ—¶æ¶ˆæ¯ä¼ é€’
- [x] ç¾¤ç»„æ¶ˆæ¯å†å²
- [x] ç”¨æˆ·è§’è‰²åŒºåˆ†
- [x] å¹¶å‘æ¶ˆæ¯å¤„ç†
- [x] æ¶ˆæ¯æŒä¹…åŒ–

### 4. è¯„ä»·ç³»ç»ŸéªŒè¯
- [x] å¤šç»´åº¦è¯„åˆ†æœºåˆ¶
- [x] AIæ™ºèƒ½æƒ…æ„Ÿåˆ†æ
- [x] å•†å®¶å›å¤äº’åŠ¨
- [x] æ•°æ®ç»Ÿè®¡åˆ†æ
- [x] ç­›é€‰æŸ¥è¯¢åŠŸèƒ½

## ğŸ” è°ƒè¯•æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜è§£å†³

```bash
# 1. æœåŠ¡æœªå¯åŠ¨
curl -I http://localhost:8080/metrics
# å¦‚æœè¿”å›404ï¼Œæ£€æŸ¥æœåŠ¡çŠ¶æ€

# 2. TokenéªŒè¯å¤±è´¥
cat test_data/user_token.txt  # æ£€æŸ¥Tokenæ˜¯å¦ç”Ÿæˆ

# 3. æµ‹è¯•å¤±è´¥æ’æŸ¥
tail -n 50 test_logs/*.log | less

# 4. é‡ç½®æµ‹è¯•ç¯å¢ƒ
rm -rf test_data/ test_logs/ test_results/
./run_all_tests.sh
```

### æœåŠ¡çŠ¶æ€ç›‘æ§

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker-compose logs -f app

# æŸ¥çœ‹æ•°æ®åº“è¿æ¥
docker-compose logs -f postgres

# Redisè¿æ¥æ£€æŸ¥
docker-compose exec redis redis-cli ping
```

## ğŸ‡ æµ‹è¯•æ‰©å±•å¼€å‘

### æ·»åŠ æ–°æµ‹è¯•åœºæ™¯

```bash
# åˆ›å»ºæ–°çš„æµ‹è¯•è„šæœ¬
./scripts/new_test.sh my_custom_test "è‡ªå®šä¹‰æµ‹è¯•åŠŸèƒ½"

# é›†æˆåˆ°ä¸»æµ‹è¯•å™¨
åœ¨run_all_tests.shä¸­æ–°å¢è°ƒç”¨
```

### å‹åŠ›æµ‹è¯•æ‰©å±•

```bash
# ä¿®æ”¹æµ‹è¯•è„šæœ¬æ·»åŠ å¹¶å‘æµ‹è¯•
# å¯é›†æˆApache Benchæˆ–wrkè¿›è¡Œæ€§èƒ½æµ‹è¯•
ab -n 1000 -c 10 http://localhost:8080/api/user/shops
```

## ğŸ“‹ æŠ€æœ¯æ”¯æŒ

### è·å–å¸®åŠ©

1. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**: `tail -f test_logs/*.log`
2. **æ£€æŸ¥æµ‹è¯•æŠ¥å‘Š**: `cat test_results/comprehensive_report.md`
3. **ç³»ç»Ÿæ¶æ„**: é˜…è¯»æºä»£ç ä¸­çš„handlersç›®å½•
4. **æ•°æ®åº“ç»“æ„**: æŸ¥çœ‹database/init.sql

### è”ç³»æ”¯æŒ
- æŠ¥å‘Šé—®é¢˜: åˆ›å»ºIssue
- ä»£ç è´¡çŒ®: æäº¤Pull Request
- åŠŸèƒ½è¯·æ±‚: æè¿°æµ‹è¯•åœºæ™¯éœ€æ±‚

---

**æµ‹è¯•åˆ›å»ºæ—¶é—´**: 2024å¹´8æœˆ14æ—¥  
**æµ‹è¯•ç‰ˆæœ¬**: v1.0å®Œæ•´ç‰ˆ  
**é€‚ç”¨ç³»ç»Ÿ**: Linux/macOS/WSL  
**æµ‹è¯•è¯­è¨€**: ä¸­æ–‡ç¯å¢ƒ